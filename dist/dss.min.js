!function(a){"use strict";a.dss=function(){return{core:{}}}()}(this),function(a){"use strict";a.core.ajax=function(a){var b=a.callback||function(){return!1},c=a.url,d=a.method||"GET",e=a.data||!1,f;if("undefined"!=typeof XMLHttpRequest)f=new XMLHttpRequest;else for(var g=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp.2.0","Microsoft.XmlHttp"],h=0,i=g.length;i>h;h++)try{f=new ActiveXObject(g[h]);break}catch(j){}f.onreadystatechange=k;function k(){f.readyState<4||200===f.status&&4===f.readyState&&b(f.response)}f.open(d,c,!0),"POST"==d.toUpperCase()?(f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e=x.core.serialize(e),f.send(e)):f.send("")}}(this.dss),function(a){"use strict";a.core.changeDynamics=function(b,c){a.core.mySheet="",a.core.refreshValues.push([b,c]);var d=[];c.forEach(function(b){var c=a.core.findMatch(b);b=c[0]+":"+c[1]+";",d.push(b)}),a.core.putRule(b,d),a.core.refreshDss(a.core.refreshValues)}}(this.dss),function(a){"use strict";a.core.changeDynamicsOnTheGo=function(b,c){a.core.rules=[],c.forEach(function(b){var c=a.core.findMatch(b);b=c[0]+":"+c[1]+";",a.core.rules.push(b)}),a.core.putRule(b,a.core.rules)}}(this.dss),function(a){"use strict";a.core.concatProps=function(a){var b="";for(var c in a)b+=c+":"+a[c]+";";return b}}(this.dss),function(a){"use strict";a.core.defineMethod=function(b,c){if(a[b])throw"Method already "+b+"() exists";a[b]=c}}(this.dss),function(a){"use strict";a.core.extractField=function(a,b,c){if(a=a.replace(/\}\}/g,"").replace(/\{\{/g,"").trim(),b){var d="";if(a.indexOf(".")>0)return d=a.split("."),a=a.replace(d[0]+".",""),x.core.extractField(a,b[d[0]]);if(a.indexOf("][")>0)d=a.split("][");else{if(!(a.indexOf("[")>0))return b[a];d=a.split("[")}}}}(this.dss),function(a){"use strict";a.core.fetchExternalStyleSheets=function(){var b=document.querySelectorAll('link[rel="dynamic-stylesheet"]'),c=b.length,d=0;return 0===c&&(a.core.IS_INITIALIZED=!0),[].forEach.call(b,function(b){return b.attributes.href?a.core.loadStyleSheets(b.attributes.href.value,function e(){d++,c===d&&(a.core.IS_INITIALIZED=!0)}):void c--})}}(this.dss),function(a){"use strict";a.core.fetchInlineStyle=function(){var b=document.querySelectorAll('style[type="dynamic-stylesheet"]');[].forEach.call(b,function(b){a.core.parseInlineStyleSheets(b.textContent);var c=document.createElement("style");c.setAttribute("rel","inline-stylesheet"),c.appendChild(document.createTextNode(b.textContent)),document.head.appendChild(c)})}}(this.dss),function(a){"use strict";a.core.fetchStyleSheets=function(){a.core.fetchExternalStyleSheets(),a.core.fetchInlineStyle()}}(this.dss),function(a){"use strict";a.core.findDynamics=function(b,c){var d=/(.*):.*\|\|.*\|\|.*;/gim,e,f=[];while(e=d.exec(c))f.push(e[0]);a.core.changeDynamics(b,f)}}(this.dss),function(dss){"use strict";function _parse(value){var newValue=value;for(var property in dss.core.dynamics)"number"==typeof dss.core.dynamics[property]&&(newValue=newValue.replace(new RegExp(property,"gmi"),dss.core.dynamics[property])),"string"==typeof dss.core.dynamics[property]&&(newValue=newValue.replace(new RegExp(property,"gmi"),"'"+dss.core.dynamics[property]+"'"));try{return eval(newValue)}catch(err){return newValue}}function _parseFields(a){var b=a.replace(/(\|\|[^\|]*\|\|)/gim,function(a){var b=a.replace(/\|/gim,"").split(":");return dss.core.dynamics&&dss.core.dynamics[b[0]]?dss.core.dynamics[b[0]]:_parse(b[0])!==!1?_parse(b[0]):b[1]||!1});return b}dss.core.findMatch=function(a){var b=/\:(.*\|\|.*\|\|.*);/gim,c=/([^:]*):.*;/gim,d=c.exec(a)[1].trim(),e=b.exec(a)[1];return[d,_parseFields(e)]}}(this.dss),function(a){"use strict";a.core.flatProperties=function(a){a=[].concat.apply([],a),a=[].concat.apply([],a);var b={};return a.forEach(function(a){var c=a.match(/[^\;]*/gim)[0].split(":");b[c[0].trim()]=c[1].trim()}),b}}(this.dss),function(a){"use strict";a.core.flatRules=function(){var b={};for(var c in a.core.myRules)b.hasOwnProperty(c.trim())||(b[c.trim()]=[]),b[c.trim()].push(a.core.myRules[c]);for(var d in b)b[d]=a.core.flatProperties(b[d]);return b}}(this.dss),function(a){"use strict";a.core.generateCss=function(b){var c="";for(var d in b)c+=d+"{"+a.core.concatProps(b[d])+"}";return c}}(this.dss),function(a){"use strict";a.core.loadStyleSheets=function(b,c){a.core.ajax({url:b,callback:function d(e){a.core.parseStyleSheets(e,b),c()}})}}(this.dss),function(a){"use strict";a.core.parseInlineStyleSheets=function(b){b.match(/.*{[^}]*}/gim).forEach(a.core.parseRule)}}(this.dss),function(a){"use strict";a.core.parseRule=function(b){var c=/(.*){([^}]*)}/gim,d=c.exec(b);a.core.findDynamics(d[1],d[2])}}(this.dss),function(a){"use strict";a.core.parseStyleSheets=function(b,c){var d=document.createElement("link");d.setAttribute("rel","stylesheet"),d.setAttribute("href",c),document.head.appendChild(d);var e=b.match(/.*{[^}]*}/gim);null!==e&&b.match(/.*{[^}]*}/gim).forEach(a.core.parseRule)}}(this.dss),function(a){"use strict";a.core.putRule=function(b,c){a.core.myRules||(a.core.myRules={}),a.core.myRules[b]||(a.core.myRules[b]=[]),a.core.myRules[b].push(c)}}(this.dss),function(a){"use strict";a.core.refreshDss=function(b){a.core.mySheet="",a.core.myRules={},b.forEach(function(b){a.core.changeDynamicsOnTheGo(b[0],b[1])}),a.core.render(b)}}(this.dss),function(a){"use strict";a.core.refreshValues=[]}(this.dss),function(a){"use strict";a.core.render=function(){var b=document.createElement("style");b.setAttribute("rel","dss-generated-stylesheet"),document.head.appendChild(b),a.core.render=function(){while(b.firstChild)b.removeChild(b.firstChild);b.appendChild(document.createTextNode(a.core.generateCss(a.core.flatRules())))}}}(this.dss),function(a){"use strict";function b(a){return a.charAt(0).toUpperCase()+a.slice(1)}a.core.defineMethod("addDefaultProperty",function(c,d){d=d(),d.context.addEventListener(d.event,function e(){var e=d.getter.apply(d,arguments);for(var f in e)a.setProperty(c+b(f),e[f])})}),a.core.defineMethod("setDynamicProperty",function(c,d){d=d(),d.context.addEventListener(d.event,function e(){var e=d.getter.apply(d,arguments);for(var f in e)a.setProperty(c+b(f),e[f])})})}(this.dss),function(a){"use strict";a.core.defineMethod("init",a.core.fetchStyleSheets),document.addEventListener("DOMContentLoaded",a.init,!1)}(this.dss),function(a){"use strict";a.core.defineMethod("setProperty",function(b,c){a.core.dynamics||(a.core.dynamics={}),a.core.dynamics[b]=c,a.core.IS_INITIALIZED&&a.core.refreshDss(a.core.refreshValues)})}(this.dss),function(a){"use strict";a.addDefaultProperty("mouse",function(){return{context:document,event:"mousemove",getter:function(a){return{x:a.pageX,y:a.pageY}}}})}(this.dss),function(a){"use strict";a.addDefaultProperty("scroll",function(){return{context:document,event:"scroll",getter:function(a){return{x:window.scrollX,y:window.scrollY}}}})}(this.dss),function(a){"use strict";a.addDefaultProperty("window",function(){return{context:window,event:"resize",getter:function(a){return{width:window.innerWidth,height:window.innerHeight}},start:function(){}}})}(this.dss);
//# sourceMappingURL=dss.min.map